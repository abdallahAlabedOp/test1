import chai from 'chai';
import { CalculationsHelper } from '../../src/helpers';

const should = chai.should();

describe('CalculationsHelper', () => {
  describe('cost', () => {
    it('should return null when client cpm and impressions is not provided', () => {
      const result = CalculationsHelper.cost();
      should.equal(result, null);
    });
    it('should return null when impressions is not provided', () => {
      const result = CalculationsHelper.cost(1000);
      should.equal(result, null);
    });
    it('should return null when client cpm is undefined', () => {
      const result = CalculationsHelper.cost(undefined, 1000);
      should.equal(result, null);
    });
    it('should return null when client cpm is null', () => {
      const result = CalculationsHelper.cost(null, 1000);
      should.equal(result, null);
    });
    it('should return null when client cpm is not valid', () => {
      const result = CalculationsHelper.cost('asd', 100);
      should.equal(result, null);
    });
    it('should return null when impressions is not valid', () => {
      const result = CalculationsHelper.cost(1000, 'asd');
      should.equal(result, null);
    });
    it('should return result when client cpm and impressions are string numbers', () => {
      const result = CalculationsHelper.cost('1000', '100');
      result.should.be.an('number');
      result.should.equal(100);
    });
    it('should return result when client cpm and impressions are numbers', () => {
      const result = CalculationsHelper.cost(1000, 100);
      result.should.be.an('number');
      result.should.equal(100);
    });
    it('should return 0 when impressions is 0', () => {
      const result = CalculationsHelper.cost(1000, 0);
      result.should.be.an('number');
      result.should.equal(0);
    });
  });
});
